// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`resolveAllocation should write program 1`] = `
[
  {
    "allocation": {
      "fields": [
        {
          "as": null,
          "default": true,
          "index": 0,
          "name": "bounce",
          "ref": ASTRef {},
          "type": {
            "kind": "ref",
            "name": "Bool",
            "optional": false,
          },
        },
        {
          "as": null,
          "default": undefined,
          "index": 1,
          "name": "to",
          "ref": ASTRef {},
          "type": {
            "kind": "ref",
            "name": "Address",
            "optional": false,
          },
        },
        {
          "as": null,
          "default": undefined,
          "index": 2,
          "name": "value",
          "ref": ASTRef {},
          "type": {
            "kind": "ref",
            "name": "Int",
            "optional": false,
          },
        },
        {
          "as": null,
          "default": 0n,
          "index": 3,
          "name": "mode",
          "ref": ASTRef {},
          "type": {
            "kind": "ref",
            "name": "Int",
            "optional": false,
          },
        },
        {
          "as": null,
          "default": null,
          "index": 4,
          "name": "body",
          "ref": ASTRef {},
          "type": {
            "kind": "ref",
            "name": "Cell",
            "optional": true,
          },
        },
      ],
      "prefix": null,
      "root": {
        "fields": [
          {
            "bits": 1,
            "index": 0,
            "kind": "int",
            "name": "bounce",
            "size": {
              "bits": 1,
              "refs": 0,
            },
          },
          {
            "index": 1,
            "kind": "address",
            "name": "to",
            "size": {
              "bits": 267,
              "refs": 0,
            },
          },
          {
            "bits": 257,
            "index": 2,
            "kind": "int",
            "name": "value",
            "size": {
              "bits": 257,
              "refs": 0,
            },
          },
          {
            "bits": 257,
            "index": 3,
            "kind": "int",
            "name": "mode",
            "size": {
              "bits": 257,
              "refs": 0,
            },
          },
          {
            "index": 4,
            "inner": {
              "index": 4,
              "kind": "cell",
              "name": "body",
              "size": {
                "bits": 0,
                "refs": 1,
              },
            },
            "kind": "optional",
            "name": "body",
            "size": {
              "bits": 1,
              "refs": 1,
            },
          },
        ],
        "next": null,
        "size": {
          "bits": 783,
          "refs": 1,
        },
      },
    },
    "type": {
      "ast": {
        "fields": [
          {
            "as": null,
            "id": 166,
            "init": true,
            "kind": "def_field",
            "name": "bounce",
            "ref": ASTRef {},
            "type": {
              "id": 164,
              "kind": "type_ref_simple",
              "name": "Bool",
              "optional": false,
              "ref": ASTRef {},
            },
          },
          {
            "as": null,
            "id": 168,
            "init": undefined,
            "kind": "def_field",
            "name": "to",
            "ref": ASTRef {},
            "type": {
              "id": 167,
              "kind": "type_ref_simple",
              "name": "Address",
              "optional": false,
              "ref": ASTRef {},
            },
          },
          {
            "as": null,
            "id": 170,
            "init": undefined,
            "kind": "def_field",
            "name": "value",
            "ref": ASTRef {},
            "type": {
              "id": 169,
              "kind": "type_ref_simple",
              "name": "Int",
              "optional": false,
              "ref": ASTRef {},
            },
          },
          {
            "as": null,
            "id": 173,
            "init": 0n,
            "kind": "def_field",
            "name": "mode",
            "ref": ASTRef {},
            "type": {
              "id": 171,
              "kind": "type_ref_simple",
              "name": "Int",
              "optional": false,
              "ref": ASTRef {},
            },
          },
          {
            "as": null,
            "id": 176,
            "init": null,
            "kind": "def_field",
            "name": "body",
            "ref": ASTRef {},
            "type": {
              "id": 174,
              "kind": "type_ref_simple",
              "name": "Cell",
              "optional": true,
              "ref": ASTRef {},
            },
          },
        ],
        "id": 177,
        "kind": "def_struct",
        "message": false,
        "name": "SendParameters",
        "ref": ASTRef {},
      },
      "fields": [
        {
          "as": null,
          "default": true,
          "index": 0,
          "name": "bounce",
          "ref": ASTRef {},
          "type": {
            "kind": "ref",
            "name": "Bool",
            "optional": false,
          },
        },
        {
          "as": null,
          "default": undefined,
          "index": 1,
          "name": "to",
          "ref": ASTRef {},
          "type": {
            "kind": "ref",
            "name": "Address",
            "optional": false,
          },
        },
        {
          "as": null,
          "default": undefined,
          "index": 2,
          "name": "value",
          "ref": ASTRef {},
          "type": {
            "kind": "ref",
            "name": "Int",
            "optional": false,
          },
        },
        {
          "as": null,
          "default": 0n,
          "index": 3,
          "name": "mode",
          "ref": ASTRef {},
          "type": {
            "kind": "ref",
            "name": "Int",
            "optional": false,
          },
        },
        {
          "as": null,
          "default": null,
          "index": 4,
          "name": "body",
          "ref": ASTRef {},
          "type": {
            "kind": "ref",
            "name": "Cell",
            "optional": true,
          },
        },
      ],
      "functions": {},
      "init": null,
      "kind": "struct",
      "name": "SendParameters",
      "receivers": {},
    },
  },
  {
    "allocation": {
      "fields": [
        {
          "as": null,
          "default": undefined,
          "index": 0,
          "name": "x",
          "ref": ASTRef {},
          "type": {
            "kind": "ref",
            "name": "Int",
            "optional": false,
          },
        },
        {
          "as": null,
          "default": undefined,
          "index": 1,
          "name": "y",
          "ref": ASTRef {},
          "type": {
            "kind": "ref",
            "name": "Int",
            "optional": false,
          },
        },
      ],
      "prefix": null,
      "root": {
        "fields": [
          {
            "bits": 257,
            "index": 0,
            "kind": "int",
            "name": "x",
            "size": {
              "bits": 257,
              "refs": 0,
            },
          },
          {
            "bits": 257,
            "index": 1,
            "kind": "int",
            "name": "y",
            "size": {
              "bits": 257,
              "refs": 0,
            },
          },
        ],
        "next": null,
        "size": {
          "bits": 514,
          "refs": 0,
        },
      },
    },
    "type": {
      "ast": {
        "fields": [
          {
            "as": null,
            "id": 305,
            "init": undefined,
            "kind": "def_field",
            "name": "x",
            "ref": ASTRef {},
            "type": {
              "id": 304,
              "kind": "type_ref_simple",
              "name": "Int",
              "optional": false,
              "ref": ASTRef {},
            },
          },
          {
            "as": null,
            "id": 307,
            "init": undefined,
            "kind": "def_field",
            "name": "y",
            "ref": ASTRef {},
            "type": {
              "id": 306,
              "kind": "type_ref_simple",
              "name": "Int",
              "optional": false,
              "ref": ASTRef {},
            },
          },
        ],
        "id": 308,
        "kind": "def_struct",
        "message": false,
        "name": "Point",
        "ref": ASTRef {},
      },
      "fields": [
        {
          "as": null,
          "default": undefined,
          "index": 0,
          "name": "x",
          "ref": ASTRef {},
          "type": {
            "kind": "ref",
            "name": "Int",
            "optional": false,
          },
        },
        {
          "as": null,
          "default": undefined,
          "index": 1,
          "name": "y",
          "ref": ASTRef {},
          "type": {
            "kind": "ref",
            "name": "Int",
            "optional": false,
          },
        },
      ],
      "functions": {},
      "init": null,
      "kind": "struct",
      "name": "Point",
      "receivers": {},
    },
  },
  {
    "allocation": {
      "fields": [
        {
          "as": null,
          "default": undefined,
          "index": 0,
          "name": "z",
          "ref": ASTRef {},
          "type": {
            "kind": "ref",
            "name": "Point",
            "optional": false,
          },
        },
      ],
      "prefix": null,
      "root": {
        "fields": [
          {
            "index": 0,
            "kind": "struct",
            "name": "z",
            "size": {
              "bits": 514,
              "refs": 0,
            },
            "type": {
              "ast": {
                "fields": [
                  {
                    "as": null,
                    "id": 305,
                    "init": undefined,
                    "kind": "def_field",
                    "name": "x",
                    "ref": ASTRef {},
                    "type": {
                      "id": 304,
                      "kind": "type_ref_simple",
                      "name": "Int",
                      "optional": false,
                      "ref": ASTRef {},
                    },
                  },
                  {
                    "as": null,
                    "id": 307,
                    "init": undefined,
                    "kind": "def_field",
                    "name": "y",
                    "ref": ASTRef {},
                    "type": {
                      "id": 306,
                      "kind": "type_ref_simple",
                      "name": "Int",
                      "optional": false,
                      "ref": ASTRef {},
                    },
                  },
                ],
                "id": 308,
                "kind": "def_struct",
                "message": false,
                "name": "Point",
                "ref": ASTRef {},
              },
              "fields": [
                {
                  "as": null,
                  "default": undefined,
                  "index": 0,
                  "name": "x",
                  "ref": ASTRef {},
                  "type": {
                    "kind": "ref",
                    "name": "Int",
                    "optional": false,
                  },
                },
                {
                  "as": null,
                  "default": undefined,
                  "index": 1,
                  "name": "y",
                  "ref": ASTRef {},
                  "type": {
                    "kind": "ref",
                    "name": "Int",
                    "optional": false,
                  },
                },
              ],
              "functions": {},
              "init": null,
              "kind": "struct",
              "name": "Point",
              "receivers": {},
            },
          },
        ],
        "next": null,
        "size": {
          "bits": 514,
          "refs": 0,
        },
      },
    },
    "type": {
      "ast": {
        "fields": [
          {
            "as": null,
            "id": 310,
            "init": undefined,
            "kind": "def_field",
            "name": "z",
            "ref": ASTRef {},
            "type": {
              "id": 309,
              "kind": "type_ref_simple",
              "name": "Point",
              "optional": false,
              "ref": ASTRef {},
            },
          },
        ],
        "id": 311,
        "kind": "def_struct",
        "message": false,
        "name": "Point2",
        "ref": ASTRef {},
      },
      "fields": [
        {
          "as": null,
          "default": undefined,
          "index": 0,
          "name": "z",
          "ref": ASTRef {},
          "type": {
            "kind": "ref",
            "name": "Point",
            "optional": false,
          },
        },
      ],
      "functions": {},
      "init": null,
      "kind": "struct",
      "name": "Point2",
      "receivers": {},
    },
  },
  {
    "allocation": {
      "fields": [
        {
          "as": null,
          "default": undefined,
          "index": 0,
          "name": "a",
          "ref": ASTRef {},
          "type": {
            "kind": "ref",
            "name": "Point",
            "optional": false,
          },
        },
        {
          "as": null,
          "default": undefined,
          "index": 1,
          "name": "b",
          "ref": ASTRef {},
          "type": {
            "kind": "ref",
            "name": "Point2",
            "optional": false,
          },
        },
      ],
      "prefix": null,
      "root": {
        "fields": [
          {
            "index": 0,
            "kind": "struct",
            "name": "a",
            "size": {
              "bits": 514,
              "refs": 0,
            },
            "type": {
              "ast": {
                "fields": [
                  {
                    "as": null,
                    "id": 305,
                    "init": undefined,
                    "kind": "def_field",
                    "name": "x",
                    "ref": ASTRef {},
                    "type": {
                      "id": 304,
                      "kind": "type_ref_simple",
                      "name": "Int",
                      "optional": false,
                      "ref": ASTRef {},
                    },
                  },
                  {
                    "as": null,
                    "id": 307,
                    "init": undefined,
                    "kind": "def_field",
                    "name": "y",
                    "ref": ASTRef {},
                    "type": {
                      "id": 306,
                      "kind": "type_ref_simple",
                      "name": "Int",
                      "optional": false,
                      "ref": ASTRef {},
                    },
                  },
                ],
                "id": 308,
                "kind": "def_struct",
                "message": false,
                "name": "Point",
                "ref": ASTRef {},
              },
              "fields": [
                {
                  "as": null,
                  "default": undefined,
                  "index": 0,
                  "name": "x",
                  "ref": ASTRef {},
                  "type": {
                    "kind": "ref",
                    "name": "Int",
                    "optional": false,
                  },
                },
                {
                  "as": null,
                  "default": undefined,
                  "index": 1,
                  "name": "y",
                  "ref": ASTRef {},
                  "type": {
                    "kind": "ref",
                    "name": "Int",
                    "optional": false,
                  },
                },
              ],
              "functions": {},
              "init": null,
              "kind": "struct",
              "name": "Point",
              "receivers": {},
            },
          },
        ],
        "next": {
          "fields": [
            {
              "index": 1,
              "kind": "struct",
              "name": "b",
              "size": {
                "bits": 514,
                "refs": 0,
              },
              "type": {
                "ast": {
                  "fields": [
                    {
                      "as": null,
                      "id": 310,
                      "init": undefined,
                      "kind": "def_field",
                      "name": "z",
                      "ref": ASTRef {},
                      "type": {
                        "id": 309,
                        "kind": "type_ref_simple",
                        "name": "Point",
                        "optional": false,
                        "ref": ASTRef {},
                      },
                    },
                  ],
                  "id": 311,
                  "kind": "def_struct",
                  "message": false,
                  "name": "Point2",
                  "ref": ASTRef {},
                },
                "fields": [
                  {
                    "as": null,
                    "default": undefined,
                    "index": 0,
                    "name": "z",
                    "ref": ASTRef {},
                    "type": {
                      "kind": "ref",
                      "name": "Point",
                      "optional": false,
                    },
                  },
                ],
                "functions": {},
                "init": null,
                "kind": "struct",
                "name": "Point2",
                "receivers": {},
              },
            },
          ],
          "next": null,
          "size": {
            "bits": 514,
            "refs": 0,
          },
        },
        "size": {
          "bits": 514,
          "refs": 1,
        },
      },
    },
    "type": {
      "ast": {
        "fields": [
          {
            "as": null,
            "id": 300,
            "init": undefined,
            "kind": "def_field",
            "name": "a",
            "ref": ASTRef {},
            "type": {
              "id": 299,
              "kind": "type_ref_simple",
              "name": "Point",
              "optional": false,
              "ref": ASTRef {},
            },
          },
          {
            "as": null,
            "id": 302,
            "init": undefined,
            "kind": "def_field",
            "name": "b",
            "ref": ASTRef {},
            "type": {
              "id": 301,
              "kind": "type_ref_simple",
              "name": "Point2",
              "optional": false,
              "ref": ASTRef {},
            },
          },
        ],
        "id": 303,
        "kind": "def_struct",
        "message": false,
        "name": "Point3",
        "ref": ASTRef {},
      },
      "fields": [
        {
          "as": null,
          "default": undefined,
          "index": 0,
          "name": "a",
          "ref": ASTRef {},
          "type": {
            "kind": "ref",
            "name": "Point",
            "optional": false,
          },
        },
        {
          "as": null,
          "default": undefined,
          "index": 1,
          "name": "b",
          "ref": ASTRef {},
          "type": {
            "kind": "ref",
            "name": "Point2",
            "optional": false,
          },
        },
      ],
      "functions": {},
      "init": null,
      "kind": "struct",
      "name": "Point3",
      "receivers": {},
    },
  },
  {
    "allocation": {
      "fields": [],
      "prefix": null,
      "root": {
        "fields": [],
        "next": null,
        "size": {
          "bits": 0,
          "refs": 0,
        },
      },
    },
    "type": {
      "ast": {
        "declarations": [
          {
            "args": [
              {
                "id": 313,
                "kind": "def_argument",
                "name": "a",
                "ref": ASTRef {},
                "type": {
                  "id": 312,
                  "kind": "type_ref_simple",
                  "name": "Int",
                  "optional": false,
                  "ref": ASTRef {},
                },
              },
              {
                "id": 315,
                "kind": "def_argument",
                "name": "b",
                "ref": ASTRef {},
                "type": {
                  "id": 314,
                  "kind": "type_ref_simple",
                  "name": "Int",
                  "optional": false,
                  "ref": ASTRef {},
                },
              },
            ],
            "attributes": [
              {
                "ref": ASTRef {},
                "type": "public",
              },
            ],
            "id": 316,
            "kind": "def_function",
            "name": "main",
            "ref": ASTRef {},
            "return": null,
            "statements": [],
          },
        ],
        "id": 317,
        "kind": "def_contract",
        "name": "Sample",
        "ref": ASTRef {},
      },
      "fields": [],
      "functions": {
        "main": {
          "args": [
            {
              "as": null,
              "name": "a",
              "ref": ASTRef {},
              "type": {
                "kind": "ref",
                "name": "Int",
                "optional": false,
              },
            },
            {
              "as": null,
              "name": "b",
              "ref": ASTRef {},
              "type": {
                "kind": "ref",
                "name": "Int",
                "optional": false,
              },
            },
          ],
          "ast": {
            "args": [
              {
                "id": 313,
                "kind": "def_argument",
                "name": "a",
                "ref": ASTRef {},
                "type": {
                  "id": 312,
                  "kind": "type_ref_simple",
                  "name": "Int",
                  "optional": false,
                  "ref": ASTRef {},
                },
              },
              {
                "id": 315,
                "kind": "def_argument",
                "name": "b",
                "ref": ASTRef {},
                "type": {
                  "id": 314,
                  "kind": "type_ref_simple",
                  "name": "Int",
                  "optional": false,
                  "ref": ASTRef {},
                },
              },
            ],
            "attributes": [
              {
                "ref": ASTRef {},
                "type": "public",
              },
            ],
            "id": 316,
            "kind": "def_function",
            "name": "main",
            "ref": ASTRef {},
            "return": null,
            "statements": [],
          },
          "isGetter": false,
          "isMutating": true,
          "isPublic": true,
          "name": "main",
          "returns": {
            "kind": "void",
          },
          "self": "Sample",
        },
      },
      "init": null,
      "kind": "contract",
      "name": "Sample",
      "receivers": {},
    },
  },
]
`;
